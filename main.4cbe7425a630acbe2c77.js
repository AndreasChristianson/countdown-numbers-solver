(self.webpackChunkstatic_site_template=self.webpackChunkstatic_site_template||[]).push([[179],{7386:(e,t,n)=>{"use strict";n(4794);var r=n(3935),a=n(7294),o=n(3379),i=n.n(o),u=n(5150);i()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;var l=n(9163);const c={add:{opCode:"add",description:"Addition",applyOperation:function(e,t){return e.plus(t)},applyNativeOperation:function(e,t){return e+t},symmetric:!0,symbol:"+"},subtract:{opCode:"subtract",description:"Subtraction",applyOperation:function(e,t){return e.minus(t)},applyNativeOperation:function(e,t){return e-t},symmetric:!1,symbol:"-"},multiply:{opCode:"multiply",description:"Multiplication",applyOperation:function(e,t){return e.times(t)},applyNativeOperation:function(e,t){return e*t},symmetric:!0,symbol:"*"},divide:{opCode:"divide",description:"Division",applyOperation:function(e,t){return e.div(t)},applyNativeOperation:function(e,t){return e/t},symmetric:!1,symbol:"/"},exponentiation:{opCode:"exponentiation",description:"Power",applyOperation:function(e,t){return e.pow(t)},applyNativeOperation:function(e,t){return Math.pow(e,t)},symmetric:!1,symbol:"^"}};var s=n(745),m=n(4698),p=(n(4431),(0,l.ZP)(s.gN).withConfig({displayName:"Form__InputField",componentId:"sc-19wu0gt-0"})(["width:100%;"])),d=function(e){var t=e.operations,n=e.setOperations,r=e.numbers,o=e.setNumbers,i=e.target,u=e.setTarget;return a.createElement(s.J9,{initialValues:{operations:t.map((function(e){return e.opCode})),numbers:r.join(" "),target:i},validationSchema:m.Ry({numbers:m.Z_().matches(/^(\x2D?([0-9]+)(\.[0-9]+)?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*){2,}$/,"At least two, base 10, whitespace delineated, numbers.").required("Required"),target:m.Rx().required("Required")}),onSubmit:function(e){n(e.operations.map((function(e){return c[e]})));var t=e.numbers.split(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/);o(t),u(e.target)}},a.createElement(s.l0,null,a.createElement("fieldset",null,a.createElement("legend",null,"Input game parameters"),a.createElement("label",{htmlFor:"numbers"},"Numbers: (space separated)"),a.createElement("div",null,a.createElement(p,{name:"numbers",type:"text"}),a.createElement(s.Bc,{name:"numbers"})),a.createElement("label",{htmlFor:"target"},"Target Number:"),a.createElement("div",null,a.createElement(p,{name:"target",type:"number"}),a.createElement(s.Bc,{name:"target"})),a.createElement("div",{id:"checkbox-group"},"Allowed Operations:"),a.createElement("div",{role:"group","aria-labelledby":"checkbox-group"},Object.values(c).map((function(e){var t=e.opCode,n=e.description;return a.createElement("label",{key:t},a.createElement(s.gN,{type:"checkbox",name:"operations",value:t}),n)}))),a.createElement("button",{type:"submit"},"Solve"))))},f=l.ZP.pre.withConfig({displayName:"Step__StepContainer",componentId:"sc-11uuh-0"})([""]),b=function(e){var t=e.step;return a.createElement(f,null,t)},y=l.ZP.div.withConfig({displayName:"Solution__SolutionContainer",componentId:"sc-16f834a-0"})([""]),g=function(e){var t=e.solution;return a.createElement(y,null,a.createElement("h3",null,"Distance: ".concat(t.distance,". Steps: ").concat(t.steps.length,".")),t.steps.map((function(e,t){return a.createElement(b,{step:e,key:t})})))};function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=function(e){var t=e.target,n=e.operations,r=[],a=1/0,o=e.numbers.map(Number),i=new Array(o.length),u=Number(t);return function e(t){for(var l=t.steps,c=o.length,s=function(t){if(i[t])return"continue";for(var s=o[t],m=function(c){if(i[c])return"continue";var m,p=o[c],d=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}(n);try{var f=function(){var n=m.value,d=function(s,m){var p=n.applyNativeOperation(s,m);o.push(p),i[t]=!0,i[c]=!0;var d={left:s,right:m,result:p,operation:n};l.push(d);var f=Math.abs(u-p);f<a?(a=f,r=[{distance:f,steps:Array.from(l)}]):f===a&&r.push({distance:f,steps:Array.from(l)}),e({steps:l}),o.pop(),i[t]=!1,i[c]=!1,l.pop()};d(s,p),n.symmetric||d(p,s)};for(d.s();!(m=d.n()).done;)f()}catch(e){d.e(e)}finally{d.f()}},p=t+1;p<c;p++)m(p)},m=0;m<c-1;m++)s(m);return r}({steps:[]}),function(e,t){return e.map((function(e){return{distance:e.distance.toString(),steps:e.steps.map((function(e){return"".concat(e.left," ").concat(e.operation.symbol," ").concat(e.right," = ").concat(e.result)}))}})).sort((function(e,t){return e.steps.length-t.steps.length}))}(r)}({numbers:e.numbers,target:e.target,operations:e.operations});return a.createElement("div",null,t.map((function(e,t){return a.createElement(g,{solution:e,key:t})})))},A=function(){return a.createElement("div",null,a.createElement("h1",null,"Countdown: Numbers Game"),a.createElement("p",null,"The numbers game is a game where contestants attempt to make a target\n      number by combining randomly selected numbers using addition, subtraction,\n      multiplication and division. ",a.createElement("a",{href:"https://en.wikipedia.org/wiki/Countdown_(game_show)#Numbers_round"},"Game details"),"."))};function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=l.ZP.div.withConfig({displayName:"Calculator__PageContainer",componentId:"sc-1jarxt4-0"})([""]),S=function(){var e=E((0,a.useState)([c.add,c.subtract,c.multiply,c.divide]),2),t=e[0],n=e[1],r=E((0,a.useState)([]),2),o=r[0],i=r[1],u=E((0,a.useState)(0),2),l=u[0],s=u[1];return a.createElement(w,null,a.createElement(A,null),a.createElement(d,{operations:t,setOperations:n,numbers:o,setNumbers:i,target:l,setTarget:s}),a.createElement(v,{operations:t,numbers:o,target:l}))};r.render(a.createElement(S,null),document.getElementById("root"))},5150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(4015),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,"@media (prefers-color-scheme: dark) {\n  html {\n    background: #333;\n    color: white;\n  }\n  :link {\n    color: lightblue;\n  }\n  :visited {\n    color: plum;\n  }\n}\n\nbody {\n  max-width: 600px;\n  margin: auto;\n}\n","",{version:3,sources:["webpack://./src/main.css"],names:[],mappings:"AAAA;EACE;IACE,gBAAgB;IAChB,YAAY;EACd;EACA;IACE,gBAAgB;EAClB;EACA;IACE,WAAW;EACb;AACF;;AAEA;EACE,gBAAgB;EAChB,YAAY;AACd",sourcesContent:["@media (prefers-color-scheme: dark) {\n  html {\n    background: #333;\n    color: white;\n  }\n  :link {\n    color: lightblue;\n  }\n  :visited {\n    color: plum;\n  }\n}\n\nbody {\n  max-width: 600px;\n  margin: auto;\n}\n"],sourceRoot:""}]);const u=i}},0,[[7386,666,216]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9tYWluLmNzcz9kZGQzIiwid2VicGFjazovL3N0YXRpYy1zaXRlLXRlbXBsYXRlLy4vc3JjL29wZXJhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vc3RhdGljLXNpdGUtdGVtcGxhdGUvLi9zcmMvc2VjdGlvbnMvRm9ybS5qc3giLCJ3ZWJwYWNrOi8vc3RhdGljLXNpdGUtdGVtcGxhdGUvLi9zcmMvY29tcG9uZW50cy9TdGVwLmpzeCIsIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9jb21wb25lbnRzL1NvbHV0aW9uLmpzeCIsIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9zb2x1dGlvbnMvZmluZC1zb2x1dGlvbnMtdjQuanMiLCJ3ZWJwYWNrOi8vc3RhdGljLXNpdGUtdGVtcGxhdGUvLi9zcmMvc2VjdGlvbnMvU29sdXRpb25zLmpzeCIsIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9zZWN0aW9ucy9UaXRsZS5qc3giLCJ3ZWJwYWNrOi8vc3RhdGljLXNpdGUtdGVtcGxhdGUvLi9zcmMvcGFnZXMvQ2FsY3VsYXRvci5qc3giLCJ3ZWJwYWNrOi8vc3RhdGljLXNpdGUtdGVtcGxhdGUvLi9zcmMvYXBwLmpzIiwid2VicGFjazovL3N0YXRpYy1zaXRlLXRlbXBsYXRlLy4vc3JjL21haW4uY3NzIl0sIm5hbWVzIjpbImFkZCIsIm9wQ29kZSIsImRlc2NyaXB0aW9uIiwiYXBwbHlPcGVyYXRpb24iLCJsZWZ0IiwicmlnaHQiLCJwbHVzIiwiYXBwbHlOYXRpdmVPcGVyYXRpb24iLCJzeW1tZXRyaWMiLCJzeW1ib2wiLCJzdWJ0cmFjdCIsIm1pbnVzIiwibXVsdGlwbHkiLCJ0aW1lcyIsImRpdmlkZSIsImRpdiIsImV4cG9uZW50aWF0aW9uIiwicG93IiwiSW5wdXRGaWVsZCIsInN0eWxlZCIsIkZpZWxkIiwiQ2FsY3VsYXRvckZvcm0iLCJvcGVyYXRpb25zIiwic2V0T3BlcmF0aW9ucyIsImluaXRpYWxOdW1iZXJzIiwibnVtYmVycyIsInNldE51bWJlcnMiLCJ0YXJnZXQiLCJzZXRUYXJnZXQiLCJpbml0aWFsVmFsdWVzIiwibWFwIiwiam9pbiIsInZhbGlkYXRpb25TY2hlbWEiLCJZdXAiLCJtYXRjaGVzIiwicmVxdWlyZWQiLCJvblN1Ym1pdCIsInZhbHVlcyIsIm9wcyIsInNwbGl0IiwiaHRtbEZvciIsIm5hbWUiLCJ0eXBlIiwiaWQiLCJyb2xlIiwiYXJpYS1sYWJlbGxlZGJ5IiwiT2JqZWN0Iiwia2V5IiwidmFsdWUiLCJTdGVwQ29udGFpbmVyIiwiU3RlcCIsInN0ZXAiLCJTb2x1dGlvbkNvbnRhaW5lciIsIlNvbHV0aW9uIiwic29sdXRpb24iLCJkaXN0YW5jZSIsInN0ZXBzIiwibGVuZ3RoIiwiaW5kZXgiLCJTb2x1dGlvbnMiLCJzb2x1dGlvbnMiLCJyYXdUYXJnZXQiLCJyZWNvcmQiLCJJbmZpbml0eSIsIk51bWJlciIsInVzZWQiLCJBcnJheSIsImZpbmRTb2x1dGlvbnNSZWN1cnNpdmUiLCJsZW4iLCJpIiwiaiIsIm9wZXJhdGlvbiIsImNvbWJpbmVQYWlyIiwibCIsInIiLCJyZXN1bHQiLCJwdXNoIiwiTWF0aCIsImFicyIsImZyb20iLCJwb3AiLCJ0b1N0cmluZyIsInNvcnQiLCJhIiwiYiIsImZvcm1hdFNvbHV0aW9ucyIsImZpbmRTb2x1dGlvbnMiLCJUaXRsZSIsImhyZWYiLCJQYWdlQ29udGFpbmVyIiwiQ2FsY3VsYXRvciIsInVzZVN0YXRlIiwiUmVhY3RET00iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJ3TEFRYSxJQUFJLElBTEgsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixJQU1MLFcsY0NaZixTQUNFQSxJQUFLLENBQ0hDLE9BQVEsTUFDUkMsWUFBYSxXQUNiQyxlQUFnQixTQUFDQyxFQUFNQyxHQUFQLE9BQWlCRCxF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QWdCdEUsb0JBQUgscUVBQUdBLENBQUgsTUFFTnVFLEVBQWEsV0FBTSxTQUNNQyxjQUFTLENBQzNDckQsTUFDQUEsV0FDQUEsV0FDQUEsV0FMNEIsR0FDdkJoQixFQUR1QixLQUNYQyxFQURXLFVBT0FvRSxjQUFTLElBUFQsR0FPdkJsRSxFQVB1QixLQU9kQyxFQVBjLFVBUUZpRSxjQUFTLEdBUlAsR0FRdkJoRSxFQVJ1QixLQVFmQyxFQVJlLEtBVTlCLE9BQ0UsZ0JBQUM2RCxFQUFELEtBQ0UsZ0JBQUNGLEVBQUQsTUFDQSxnQkFBQ2xFLEVBQUQsQ0FDRUMsV0FBWUEsRUFDWkMsY0FBZUEsRUFDZkUsUUFBU0EsRUFDVEMsV0FBWUEsRUFDWkMsT0FBUUEsRUFDUkMsVUFBV0EsSUFFYixnQkFBQytCLEVBQUQsQ0FDRXJDLFdBQVlBLEVBQ1pHLFFBQVNBLEVBQ1RFLE9BQVFBLE1DMUJoQmlFLFNBQWdCLGdCQUFDRixFQUFELE1BQWdCRyxTQUFTQyxlQUFlLFUsOEVDSnBEQyxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3Qm5CLEtBQUssQ0FBQ29CLEVBQU9yRCxHQUFJLHFPQUFzTyxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQyw0QkFBNEIsTUFBUSxHQUFHLFNBQVcsMEhBQTBILGVBQWlCLENBQUMsc09BQXNPLFdBQWEsTUFFM3RCLFkiLCJmaWxlIjoibWFpbi4wNGQxY2VjOGQ4MTNhMTIxMjc4MC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcGkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIGFkZDoge1xuICAgIG9wQ29kZTogJ2FkZCcsXG4gICAgZGVzY3JpcHRpb246ICdBZGRpdGlvbicsXG4gICAgYXBwbHlPcGVyYXRpb246IChsZWZ0LCByaWdodCkgPT4gbGVmdC5wbHVzKHJpZ2h0KSxcbiAgICBhcHBseU5hdGl2ZU9wZXJhdGlvbjogKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0ICsgcmlnaHQsXG4gICAgc3ltbWV0cmljOiB0cnVlLFxuICAgIHN5bWJvbDogJysnXG4gIH0sXG4gIHN1YnRyYWN0OiB7XG4gICAgb3BDb2RlOiAnc3VidHJhY3QnLFxuICAgIGRlc2NyaXB0aW9uOiAnU3VidHJhY3Rpb24nLFxuICAgIGFwcGx5T3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQubWludXMocmlnaHQpLFxuICAgIGFwcGx5TmF0aXZlT3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgLSByaWdodCxcbiAgICBzeW1tZXRyaWM6IGZhbHNlLFxuICAgIHN5bWJvbDogJy0nXG4gIH0sXG4gIG11bHRpcGx5OiB7XG4gICAgb3BDb2RlOiAnbXVsdGlwbHknLFxuICAgIGRlc2NyaXB0aW9uOiAnTXVsdGlwbGljYXRpb24nLFxuICAgIGFwcGx5T3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQudGltZXMocmlnaHQpLFxuICAgIGFwcGx5TmF0aXZlT3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgKiByaWdodCxcbiAgICBzeW1tZXRyaWM6IHRydWUsXG4gICAgc3ltYm9sOiAnKidcbiAgfSxcbiAgZGl2aWRlOiB7XG4gICAgb3BDb2RlOiAnZGl2aWRlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0RpdmlzaW9uJyxcbiAgICBhcHBseU9wZXJhdGlvbjogKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0LmRpdihyaWdodCksXG4gICAgYXBwbHlOYXRpdmVPcGVyYXRpb246IChsZWZ0LCByaWdodCkgPT4gbGVmdCAvIHJpZ2h0LFxuICAgIHN5bW1ldHJpYzogZmFsc2UsXG4gICAgc3ltYm9sOiAnLydcbiAgfSxcbiAgZXhwb25lbnRpYXRpb246IHtcbiAgICBvcENvZGU6ICdleHBvbmVudGlhdGlvbicsXG4gICAgZGVzY3JpcHRpb246ICdQb3dlcicsXG4gICAgYXBwbHlPcGVyYXRpb246IChsZWZ0LCByaWdodCkgPT4gbGVmdC5wb3cocmlnaHQpLFxuICAgIGFwcGx5TmF0aXZlT3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgKiogcmlnaHQsXG4gICAgc3ltbWV0cmljOiBmYWxzZSxcbiAgICBzeW1ib2w6ICdeJ1xuICB9LFxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgRm9ybWlrLCBGaWVsZCwgRm9ybSwgRXJyb3JNZXNzYWdlIH0gZnJvbSAnZm9ybWlrJ1xuaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCdcbmltcG9ydCBvcHMgZnJvbSAnLi4vb3BlcmF0aW9ucydcbmltcG9ydCBCaWdOdW1iZXIgZnJvbSAnYmlnbnVtYmVyLmpzJ1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcblxuY29uc3QgSW5wdXRGaWVsZCA9IHN0eWxlZChGaWVsZClgXG4gIHdpZHRoOiAxMDAlO1xuYFxuXG5leHBvcnQgY29uc3QgQ2FsY3VsYXRvckZvcm0gPSAoe1xuICBvcGVyYXRpb25zLFxuICBzZXRPcGVyYXRpb25zLFxuICBudW1iZXJzOiBpbml0aWFsTnVtYmVycyxcbiAgc2V0TnVtYmVycyxcbiAgdGFyZ2V0LFxuICBzZXRUYXJnZXQsXG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPEZvcm1pa1xuICAgICAgaW5pdGlhbFZhbHVlcz17e1xuICAgICAgICBvcGVyYXRpb25zOiBvcGVyYXRpb25zLm1hcCgoeyBvcENvZGUgfSkgPT4gb3BDb2RlKSxcbiAgICAgICAgbnVtYmVyczogaW5pdGlhbE51bWJlcnMuam9pbignICcpLFxuICAgICAgICB0YXJnZXQsXG4gICAgICB9fVxuICAgICAgdmFsaWRhdGlvblNjaGVtYT17WXVwLm9iamVjdCh7XG4gICAgICAgIG51bWJlcnM6IFl1cC5zdHJpbmcoKVxuICAgICAgICAgIC5tYXRjaGVzKC9eKC0/KFxcZCspKFxcLlxcZCspP1xccyopezIsfSQvdSwgJ0F0IGxlYXN0IHR3bywgYmFzZSAxMCwgd2hpdGVzcGFjZSBkZWxpbmVhdGVkLCBudW1iZXJzLicpXG4gICAgICAgICAgLnJlcXVpcmVkKCdSZXF1aXJlZCcpLFxuICAgICAgICB0YXJnZXQ6IFl1cC5udW1iZXIoKS5yZXF1aXJlZCgnUmVxdWlyZWQnKSxcbiAgICAgIH0pfVxuICAgICAgb25TdWJtaXQ9eyh2YWx1ZXMpID0+IHtcbiAgICAgICAgc2V0T3BlcmF0aW9ucyh2YWx1ZXMub3BlcmF0aW9ucy5tYXAoKG9wQ29kZSkgPT4gb3BzW29wQ29kZV0pKVxuICAgICAgICBjb25zdCBudW1iZXJzID0gdmFsdWVzLm51bWJlcnMuc3BsaXQoL1xccysvdSlcbiAgICAgICAgc2V0TnVtYmVycyhudW1iZXJzKVxuICAgICAgICBzZXRUYXJnZXQodmFsdWVzLnRhcmdldClcbiAgICAgICAgLy8gY29uc29sZS5sb2cobnVtYmVycywgdmFsdWVzLnRhcmdldCwgdmFsdWVzLm9wZXJhdGlvbnMpXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxGb3JtPlxuICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgPGxlZ2VuZD5JbnB1dCBnYW1lIHBhcmFtZXRlcnM8L2xlZ2VuZD5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cIm51bWJlcnNcIj5OdW1iZXJzOiAoc3BhY2Ugc2VwYXJhdGVkKTwvbGFiZWw+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxJbnB1dEZpZWxkIG5hbWU9XCJudW1iZXJzXCIgdHlwZT1cInRleHRcIiAvPlxuICAgICAgICAgICAgPEVycm9yTWVzc2FnZSBuYW1lPVwibnVtYmVyc1wiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ0YXJnZXRcIj5UYXJnZXQgTnVtYmVyOjwvbGFiZWw+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxJbnB1dEZpZWxkIG5hbWU9XCJ0YXJnZXRcIiB0eXBlPVwibnVtYmVyXCIgLz5cbiAgICAgICAgICAgIDxFcnJvck1lc3NhZ2UgbmFtZT1cInRhcmdldFwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBpZD1cImNoZWNrYm94LWdyb3VwXCI+QWxsb3dlZCBPcGVyYXRpb25zOjwvZGl2PlxuICAgICAgICAgIDxkaXYgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5PVwiY2hlY2tib3gtZ3JvdXBcIj5cbiAgICAgICAgICAgIHtPYmplY3QudmFsdWVzKG9wcykubWFwKCh7IG9wQ29kZSwgZGVzY3JpcHRpb24gfSkgPT4gKFxuICAgICAgICAgICAgICA8bGFiZWwga2V5PXtvcENvZGV9PlxuICAgICAgICAgICAgICAgIDxGaWVsZCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwib3BlcmF0aW9uc1wiIHZhbHVlPXtvcENvZGV9IC8+XG4gICAgICAgICAgICAgICAge2Rlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+U29sdmU8L2J1dHRvbj5cbiAgICAgICAgPC9maWVsZHNldD5cbiAgICAgIDwvRm9ybT5cbiAgICA8L0Zvcm1paz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcblxuY29uc3QgU3RlcENvbnRhaW5lciA9IHN0eWxlZC5wcmVgYFxuXG5leHBvcnQgY29uc3QgU3RlcCA9ICh7IHN0ZXAgfSkgPT4gKFxuICA8U3RlcENvbnRhaW5lcj5cbiAgICB7c3RlcH1cbiAgPC9TdGVwQ29udGFpbmVyPlxuKVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcbmltcG9ydCB7IFN0ZXAgfSBmcm9tICcuL1N0ZXAnXG5cbmNvbnN0IFNvbHV0aW9uQ29udGFpbmVyID0gc3R5bGVkLmRpdmBgXG5cbmV4cG9ydCBjb25zdCBTb2x1dGlvbiA9ICh7IHNvbHV0aW9uIH0pID0+IChcbiAgPFNvbHV0aW9uQ29udGFpbmVyPlxuICAgIDxoMz57YERpc3RhbmNlOiAke3NvbHV0aW9uLmRpc3RhbmNlfS4gU3RlcHM6ICR7c29sdXRpb24uc3RlcHMubGVuZ3RofS5gfTwvaDM+XG4gICAge3NvbHV0aW9uLnN0ZXBzLm1hcCgoc3RlcCwgaW5kZXgpID0+IChcbiAgICAgIDxTdGVwIHN0ZXA9e3N0ZXB9IGtleT17aW5kZXh9Lz5cbiAgICApKX1cbiAgPC9Tb2x1dGlvbkNvbnRhaW5lcj5cbilcbiIsImNvbnN0IGZvcm1hdFNvbHV0aW9ucyA9IChzb2x1dGlvbnMsIHRhcmdldCkgPT4ge1xuICByZXR1cm4gc29sdXRpb25zLm1hcChzb2x1dGlvbiA9PiAoe1xuICAgIGRpc3RhbmNlOiBzb2x1dGlvbi5kaXN0YW5jZS50b1N0cmluZygpLFxuICAgIHN0ZXBzOiBzb2x1dGlvbi5zdGVwcy5tYXAoc3RlcCA9PiBgJHtzdGVwLmxlZnR9ICR7c3RlcC5vcGVyYXRpb24uc3ltYm9sfSAke3N0ZXAucmlnaHR9ID0gJHtzdGVwLnJlc3VsdH1gKVxuICB9KSlcbiAgICAuc29ydCgoYSwgYikgPT4gYS5zdGVwcy5sZW5ndGggLSBiLnN0ZXBzLmxlbmd0aClcbn1cblxuZXhwb3J0IGNvbnN0IGZpbmRTb2x1dGlvbnMgPSAoeyBudW1iZXJzOiByYXdOdW1iZXJzLCB0YXJnZXQ6IHJhd1RhcmdldCwgb3BlcmF0aW9ucyB9KSA9PiB7XG4gIGxldCBzb2x1dGlvbnMgPSBbXVxuICBsZXQgcmVjb3JkID0gSW5maW5pdHlcbiAgY29uc3QgbnVtYmVycyA9IHJhd051bWJlcnMubWFwKE51bWJlcilcbiAgY29uc3QgdXNlZCA9IG5ldyBBcnJheShudW1iZXJzLmxlbmd0aClcbiAgY29uc3QgdGFyZ2V0ID0gTnVtYmVyKHJhd1RhcmdldClcblxuICBjb25zdCBmaW5kU29sdXRpb25zUmVjdXJzaXZlID0gKHtcbiAgICBzdGVwcyxcbiAgfSkgPT4ge1xuICAgIGNvbnN0IGxlbiA9IG51bWJlcnMubGVuZ3RoXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4gLSAxOyBpKyspIHtcbiAgICAgIGlmICh1c2VkW2ldKVxuICAgICAgICBjb250aW51ZVxuICAgICAgY29uc3QgbGVmdCA9IG51bWJlcnNbaV1cbiAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGlmICh1c2VkW2pdKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gbnVtYmVyc1tqXVxuICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiBvcGVyYXRpb25zKSB7XG4gICAgICAgICAgY29uc3QgY29tYmluZVBhaXIgPSAobCwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3BlcmF0aW9uLmFwcGx5TmF0aXZlT3BlcmF0aW9uKGwsIHIpXG4gICAgICAgICAgICBudW1iZXJzLnB1c2gocmVzdWx0KSAtIDFcbiAgICAgICAgICAgIHVzZWRbaV0gPSB0cnVlXG4gICAgICAgICAgICB1c2VkW2pdID0gdHJ1ZVxuXG4gICAgICAgICAgICBjb25zdCBzdGVwID0ge1xuICAgICAgICAgICAgICBsZWZ0OiBsLFxuICAgICAgICAgICAgICByaWdodDogcixcbiAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICBvcGVyYXRpb25cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RlcHMucHVzaChzdGVwKVxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyh0YXJnZXQgLSByZXN1bHQpXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCByZWNvcmQpIHtcbiAgICAgICAgICAgICAgcmVjb3JkID0gZGlzdGFuY2VcbiAgICAgICAgICAgICAgc29sdXRpb25zID0gW3tcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgICAgICAgICBzdGVwczogQXJyYXkuZnJvbShzdGVwcylcbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdGFuY2UgPT09IHJlY29yZCkge1xuICAgICAgICAgICAgICBzb2x1dGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgICAgICAgICAgc3RlcHM6IEFycmF5LmZyb20oc3RlcHMpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5kU29sdXRpb25zUmVjdXJzaXZlKHtcbiAgICAgICAgICAgICAgc3RlcHNcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIG51bWJlcnMucG9wKClcbiAgICAgICAgICAgIHVzZWRbaV0gPSBmYWxzZVxuICAgICAgICAgICAgdXNlZFtqXSA9IGZhbHNlXG4gICAgICAgICAgICBzdGVwcy5wb3AoKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb21iaW5lUGFpcihsZWZ0LCByaWdodClcbiAgICAgICAgICBpZiAoIW9wZXJhdGlvbi5zeW1tZXRyaWMpIHtcbiAgICAgICAgICAgIGNvbWJpbmVQYWlyKHJpZ2h0LCBsZWZ0KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc29sdXRpb25zXG4gIH1cblxuICBmaW5kU29sdXRpb25zUmVjdXJzaXZlKHtcbiAgICBzdGVwczogW11cbiAgfSlcblxuICByZXR1cm4gZm9ybWF0U29sdXRpb25zKHNvbHV0aW9ucywgdGFyZ2V0KVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFNvbHV0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Tb2x1dGlvbidcbmltcG9ydCB7IGZpbmRTb2x1dGlvbnMgfSBmcm9tICcuLi9zb2x1dGlvbnMvZmluZC1zb2x1dGlvbnMtdjQnXG5cbmV4cG9ydCBjb25zdCBTb2x1dGlvbnMgPSAoeyBudW1iZXJzLCB0YXJnZXQsIG9wZXJhdGlvbnMgfSkgPT4ge1xuICBjb25zdCBzb2x1dGlvbnMgPSBmaW5kU29sdXRpb25zKHsgbnVtYmVycywgdGFyZ2V0LCBvcGVyYXRpb25zIH0pXG4gIHJldHVybiA8ZGl2PlxuICAgIHtzb2x1dGlvbnMubWFwKChzb2x1dGlvbiwgaW5kZXgpID0+IDxTb2x1dGlvbiBzb2x1dGlvbj17c29sdXRpb259IGtleT17aW5kZXh9Lz4pfVxuICA8L2Rpdj5cbn1cblxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgY29uc3QgVGl0bGUgPSAoKSA9PiAoXG4gIDxkaXY+XG4gICAgPGgxPkNvdW50ZG93bjogTnVtYmVycyBHYW1lPC9oMT5cbiAgICA8cD5cbiAgICAgIHtgVGhlIG51bWJlcnMgZ2FtZSBpcyBhIGdhbWUgd2hlcmUgY29udGVzdGFudHMgYXR0ZW1wdCB0byBtYWtlIGEgdGFyZ2V0XG4gICAgICBudW1iZXIgYnkgY29tYmluaW5nIHJhbmRvbWx5IHNlbGVjdGVkIG51bWJlcnMgdXNpbmcgYWRkaXRpb24sIHN1YnRyYWN0aW9uLFxuICAgICAgbXVsdGlwbGljYXRpb24gYW5kIGRpdmlzaW9uLiBgfVxuICAgICAgPGEgaHJlZj1cImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvdW50ZG93bl8oZ2FtZV9zaG93KSNOdW1iZXJzX3JvdW5kXCI+XG4gICAgICAgIHsnR2FtZSBkZXRhaWxzJ31cbiAgICAgIDwvYT5cbiAgICAgIHsnLid9XG4gICAgPC9wPlxuICA8L2Rpdj5cbilcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcbmltcG9ydCBvcHMgZnJvbSAnLi4vb3BlcmF0aW9ucydcbmltcG9ydCB7IENhbGN1bGF0b3JGb3JtIH0gZnJvbSAnLi4vc2VjdGlvbnMvRm9ybSdcbmltcG9ydCB7IFNvbHV0aW9ucyB9IGZyb20gJy4uL3NlY3Rpb25zL1NvbHV0aW9ucydcbmltcG9ydCB7IFRpdGxlIH0gZnJvbSAnLi4vc2VjdGlvbnMvVGl0bGUnXG5cbmNvbnN0IFBhZ2VDb250YWluZXIgPSBzdHlsZWQuZGl2YGBcblxuZXhwb3J0IGNvbnN0IENhbGN1bGF0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IFtvcGVyYXRpb25zLCBzZXRPcGVyYXRpb25zXSA9IHVzZVN0YXRlKFtcbiAgICBvcHMuYWRkLFxuICAgIG9wcy5zdWJ0cmFjdCxcbiAgICBvcHMubXVsdGlwbHksXG4gICAgb3BzLmRpdmlkZSxcbiAgXSlcbiAgY29uc3QgW251bWJlcnMsIHNldE51bWJlcnNdID0gdXNlU3RhdGUoW10pXG4gIGNvbnN0IFt0YXJnZXQsIHNldFRhcmdldF0gPSB1c2VTdGF0ZSgwKVxuXG4gIHJldHVybiAoXG4gICAgPFBhZ2VDb250YWluZXI+XG4gICAgICA8VGl0bGUgLz5cbiAgICAgIDxDYWxjdWxhdG9yRm9ybVxuICAgICAgICBvcGVyYXRpb25zPXtvcGVyYXRpb25zfVxuICAgICAgICBzZXRPcGVyYXRpb25zPXtzZXRPcGVyYXRpb25zfVxuICAgICAgICBudW1iZXJzPXtudW1iZXJzfVxuICAgICAgICBzZXROdW1iZXJzPXtzZXROdW1iZXJzfVxuICAgICAgICB0YXJnZXQ9e3RhcmdldH1cbiAgICAgICAgc2V0VGFyZ2V0PXtzZXRUYXJnZXR9XG4gICAgICAvPlxuICAgICAgPFNvbHV0aW9uc1xuICAgICAgICBvcGVyYXRpb25zPXtvcGVyYXRpb25zfVxuICAgICAgICBudW1iZXJzPXtudW1iZXJzfVxuICAgICAgICB0YXJnZXQ9e3RhcmdldH1cbiAgICAgIC8+XG4gICAgPC9QYWdlQ29udGFpbmVyPlxuICApXG59XG4iLCJpbXBvcnQgJ2ZvbnRzb3VyY2Utb3Blbi1zYW5zJ1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCAnLi9tYWluLmNzcydcblxuaW1wb3J0IHsgQ2FsY3VsYXRvciB9IGZyb20gJy4vcGFnZXMvQ2FsY3VsYXRvcidcblxuUmVhY3RET00ucmVuZGVyKDxDYWxjdWxhdG9yIC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKVxuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7XFxuICBodG1sIHtcXG4gICAgYmFja2dyb3VuZDogIzMzMztcXG4gICAgY29sb3I6IHdoaXRlO1xcbiAgfVxcbiAgOmxpbmsge1xcbiAgICBjb2xvcjogbGlnaHRibHVlO1xcbiAgfVxcbiAgOnZpc2l0ZWQge1xcbiAgICBjb2xvcjogcGx1bTtcXG4gIH1cXG59XFxuXFxuYm9keSB7XFxuICBtYXgtd2lkdGg6IDYwMHB4O1xcbiAgbWFyZ2luOiBhdXRvO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvbWFpbi5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRTtJQUNFLGdCQUFnQjtJQUNoQixZQUFZO0VBQ2Q7RUFDQTtJQUNFLGdCQUFnQjtFQUNsQjtFQUNBO0lBQ0UsV0FBVztFQUNiO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsWUFBWTtBQUNkXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcXG4gIGh0bWwge1xcbiAgICBiYWNrZ3JvdW5kOiAjMzMzO1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICB9XFxuICA6bGluayB7XFxuICAgIGNvbG9yOiBsaWdodGJsdWU7XFxuICB9XFxuICA6dmlzaXRlZCB7XFxuICAgIGNvbG9yOiBwbHVtO1xcbiAgfVxcbn1cXG5cXG5ib2R5IHtcXG4gIG1heC13aWR0aDogNjAwcHg7XFxuICBtYXJnaW46IGF1dG87XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwic291cmNlUm9vdCI6IiJ9