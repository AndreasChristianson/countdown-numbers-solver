(()=>{"use strict";const t={add:{opCode:"add",description:"Addition",applyNativeOperation:function(t,e){return t+e},symmetric:!0,symbol:"+"},subtract:{opCode:"subtract",description:"Subtraction",applyNativeOperation:function(t,e){return t-e},symmetric:!1,symbol:"-"},multiply:{opCode:"multiply",description:"Multiplication",applyNativeOperation:function(t,e){return t*e},symmetric:!0,symbol:"*"},divide:{opCode:"divide",description:"Division",applyNativeOperation:function(t,e){return t/e},symmetric:!1,symbol:"/"},exponentiation:{opCode:"exponentiation",description:"Power",applyNativeOperation:function(t,e){return Math.pow(t,e)},symmetric:!1,symbol:"^"}};function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var n=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=e,this.postMessage=n,this.distance=1/0,this.solutionsEvaluated=0,this.lastUpdate=Date.now()}var n,o;return n=t,(o=[{key:"evaluateSolution",value:function(t,e){this.solutionsEvaluated++,Date.now()-this.lastUpdate>1e3&&this.postCounts();var n,o=Math.abs(e-this.target);Number.isNaN(o)||o>this.distance||(o<this.distance&&(this.distance=o,this.postMessage({opType:"newMinDistanceFound",distance:o})),this.postMessage({opType:"addSolution",solution:(n=t,{steps:n.map((function(t){return"".concat(t.left," ").concat(t.operation.symbol," ").concat(t.right," = ").concat(t.result)}))})}))}},{key:"postCounts",value:function(){this.lastUpdate=Date.now(),this.postMessage({opType:"updateEvalCount",evalCount:this.solutionsEvaluated})}}])&&e(n.prototype,o),t}();function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var r=function(e,r){var i,a,s,u,l=e.target;i=e.numbers,a=e.operations.map((function(e){return t[e]})),s=new n(l,r),u=new Array(i.length),function t(e){for(var n=e.steps,r=i.length,l=function(e){if(u[e])return"continue";for(var l=i[e],p=function(r){if(u[r])return"continue";var p,c=i[r],f=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(a);try{var y=function(){var o=p.value,a=function(a,l){var p=o.applyNativeOperation(a,l);i.push(p),u[e]=!0,u[r]=!0;var c={left:a,right:l,result:p,operation:o};n.push(c),s.evaluateSolution(n,p),t({steps:n}),i.pop(),u[e]=!1,u[r]=!1,n.pop()};a(l,c),o.symmetric||a(c,l)};for(f.s();!(p=f.n()).done;)y()}catch(t){f.e(t)}finally{f.f()}},c=e+1;c<r;c++)p(c)},p=0;p<r-1;p++)l(p)}({steps:[]}),s.postCounts(),r({opType:"complete"})};self.onmessage=t=>{r(t.data,self.postMessage.bind(self))}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9vcGVyYXRpb25zLmpzIiwid2VicGFjazovL3N0YXRpYy1zaXRlLXRlbXBsYXRlLy4vc3JjL3NvbHV0aW9ucy9Tb2x1dGlvbkV2YWx1YXRvci5qcyIsIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9zb2x1dGlvbnMvZm9ybWF0LXNvbHV0aW9uLmpzIiwid2VicGFjazovL3N0YXRpYy1zaXRlLXRlbXBsYXRlLy4vc3JjL3NvbHV0aW9ucy9maW5kLXNvbHV0aW9ucy12NS5qcyIsIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9zb2x1dGlvbnMvZmluZC1zb2x1dGlvbnMud29ya2VyLmpzIl0sIm5hbWVzIjpbImFkZCIsIm9wQ29kZSIsImRlc2NyaXB0aW9uIiwiYXBwbHlOYXRpdmVPcGVyYXRpb24iLCJsZWZ0IiwicmlnaHQiLCJzeW1tZXRyaWMiLCJzeW1ib2wiLCJzdWJ0cmFjdCIsIm11bHRpcGx5IiwiZGl2aWRlIiwiZXhwb25lbnRpYXRpb24iLCJTb2x1dGlvbkV2YWx1YXRvciIsInRhcmdldCIsInBvc3RNZXNzYWdlIiwidGhpcyIsImRpc3RhbmNlIiwiSW5maW5pdHkiLCJzb2x1dGlvbnNFdmFsdWF0ZWQiLCJsYXN0VXBkYXRlIiwiRGF0ZSIsIm5vdyIsInNvbHV0aW9uIiwicmVzdWx0IiwicG9zdENvdW50cyIsInN0ZXBzIiwiTWF0aCIsImFicyIsIk51bWJlciIsImlzTmFOIiwib3BUeXBlIiwibWFwIiwic3RlcCIsIm9wZXJhdGlvbiIsImV2YWxDb3VudCIsImZpbmRTb2x1dGlvbnMiLCJkYXRhIiwibnVtYmVycyIsIm9wZXJhdGlvbnMiLCJldmFsdWF0b3IiLCJ1c2VkIiwib3BzIiwiQXJyYXkiLCJsZW5ndGgiLCJmaW5kU29sdXRpb25zUmVjdXJzaXZlIiwibGVuIiwiaSIsImoiLCJjb21iaW5lUGFpciIsImwiLCJyIiwicHVzaCIsImV2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RGIsRUFBUWMsS0FBSzVCLEdBQ2JpQixFQUFLTSxJQUFLLEVBQ1ZOLEVBQUtPLElBQUssRUFFVixJQUFNZixFQUFPLENBQ1g1QixLQUFNNkMsRUFDTjVDLE1BQU82QyxFQUNQM0IsU0FDQVUsYUFHRlIsRUFBTTBCLEtBQUtuQixHQUNYTyxFQUFVYSxpQkFBaUIzQixFQUFPRixHQUNsQ3FCLEVBQXVCLENBQ3JCbkIsVUFHRlksRUFBUWdCLE1BQ1JiLEVBQUtNLElBQUssRUFDVk4sRUFBS08sSUFBSyxFQUNWdEIsRUFBTTRCLE9BRVJMLEVBQVk1QyxFQUFNQyxHQUNiNEIsRUFBVTNCLFdBQ2IwQyxFQUFZM0MsRUFBT0QsSUEzQnZCLDJCQUFvQyxJQVJJLGdDQUtqQzJDLEVBQUlELEVBQUksRUFBR0MsRUFBSUYsRUFBS0UsSUFBSyxFQUF6QkEsSUFIRkQsRUFBSSxFQUFHQSxFQUFJRCxFQUFNLEVBQUdDLElBQUssRUFBekJBLEdBd0NYRixDQUF1QixDQUNyQm5CLE1BQU8sS0FFVGMsRUFBVWYsYUFVVlYsRUFBWSxDQUNWZ0IsT0FBUSxjQzVEWndCLEtBQUtDLFVBQWFDLElBQ2hCckIsRUFBY3FCLEVBQVFwQixLQUFNa0IsS0FBS3hDLFlBQVkyQyxLQUFLSCxTIiwiZmlsZSI6ImZpbmQtc29sdXRpb25zLndvcmtlci40YmM1YzExMDU3OTZkOWMwMTM1OS53b3JrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gIGFkZDoge1xuICAgIG9wQ29kZTogJ2FkZCcsXG4gICAgZGVzY3JpcHRpb246ICdBZGRpdGlvbicsXG4gICAgYXBwbHlOYXRpdmVPcGVyYXRpb246IChsZWZ0LCByaWdodCkgPT4gbGVmdCArIHJpZ2h0LFxuICAgIHN5bW1ldHJpYzogdHJ1ZSxcbiAgICBzeW1ib2w6ICcrJyxcbiAgfSxcbiAgc3VidHJhY3Q6IHtcbiAgICBvcENvZGU6ICdzdWJ0cmFjdCcsXG4gICAgZGVzY3JpcHRpb246ICdTdWJ0cmFjdGlvbicsXG4gICAgYXBwbHlOYXRpdmVPcGVyYXRpb246IChsZWZ0LCByaWdodCkgPT4gbGVmdCAtIHJpZ2h0LFxuICAgIHN5bW1ldHJpYzogZmFsc2UsXG4gICAgc3ltYm9sOiAnLScsXG4gIH0sXG4gIG11bHRpcGx5OiB7XG4gICAgb3BDb2RlOiAnbXVsdGlwbHknLFxuICAgIGRlc2NyaXB0aW9uOiAnTXVsdGlwbGljYXRpb24nLFxuICAgIGFwcGx5TmF0aXZlT3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgKiByaWdodCxcbiAgICBzeW1tZXRyaWM6IHRydWUsXG4gICAgc3ltYm9sOiAnKicsXG4gIH0sXG4gIGRpdmlkZToge1xuICAgIG9wQ29kZTogJ2RpdmlkZScsXG4gICAgZGVzY3JpcHRpb246ICdEaXZpc2lvbicsXG4gICAgYXBwbHlOYXRpdmVPcGVyYXRpb246IChsZWZ0LCByaWdodCkgPT4gbGVmdCAvIHJpZ2h0LFxuICAgIHN5bW1ldHJpYzogZmFsc2UsXG4gICAgc3ltYm9sOiAnLycsXG4gIH0sXG4gIGV4cG9uZW50aWF0aW9uOiB7XG4gICAgb3BDb2RlOiAnZXhwb25lbnRpYXRpb24nLFxuICAgIGRlc2NyaXB0aW9uOiAnUG93ZXInLFxuICAgIGFwcGx5TmF0aXZlT3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgKiogcmlnaHQsXG4gICAgc3ltbWV0cmljOiBmYWxzZSxcbiAgICBzeW1ib2w6ICdeJyxcbiAgfSxcbn1cbiIsImltcG9ydCB7IGZvcm1hdFNvbHV0aW9uIH0gZnJvbSBcIi4vZm9ybWF0LXNvbHV0aW9uXCJcblxuZXhwb3J0IGNsYXNzIFNvbHV0aW9uRXZhbHVhdG9yIHtcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBwb3N0TWVzc2FnZSkge1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0XG4gICAgdGhpcy5wb3N0TWVzc2FnZSA9IHBvc3RNZXNzYWdlXG4gICAgdGhpcy5kaXN0YW5jZSA9IEluZmluaXR5XG4gICAgdGhpcy5zb2x1dGlvbnNFdmFsdWF0ZWQgPSAwXG4gICAgdGhpcy5sYXN0VXBkYXRlID0gRGF0ZS5ub3coKVxuICB9XG5cbiAgZXZhbHVhdGVTb2x1dGlvbihzb2x1dGlvbiwgcmVzdWx0KSB7XG4gICAgdGhpcy5zb2x1dGlvbnNFdmFsdWF0ZWQrK1xuICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0VXBkYXRlID4gMTAwMCkge1xuICAgICAgdGhpcy5wb3N0Q291bnRzKClcbiAgICB9XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyhyZXN1bHQgLSB0aGlzLnRhcmdldClcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGRpc3RhbmNlKSB8fCBkaXN0YW5jZSA+IHRoaXMuZGlzdGFuY2UpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLmRpc3RhbmNlKSB7XG4gICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2VcbiAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBvcFR5cGU6ICduZXdNaW5EaXN0YW5jZUZvdW5kJyxcbiAgICAgICAgZGlzdGFuY2UsXG4gICAgICB9KVxuICAgIH1cbiAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgIG9wVHlwZTogJ2FkZFNvbHV0aW9uJyxcbiAgICAgIHNvbHV0aW9uOiBmb3JtYXRTb2x1dGlvbihzb2x1dGlvbiksXG4gICAgfSlcbiAgfVxuXG4gIHBvc3RDb3VudHMoKSB7XG4gICAgdGhpcy5sYXN0VXBkYXRlID0gRGF0ZS5ub3coKVxuICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgb3BUeXBlOiAndXBkYXRlRXZhbENvdW50JyxcbiAgICAgIGV2YWxDb3VudDogdGhpcy5zb2x1dGlvbnNFdmFsdWF0ZWQsXG4gICAgfSlcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGZvcm1hdFNvbHV0aW9uID0gKHN0ZXBzKSA9PiB7XG4gIHJldHVybiB7XG4gICAgc3RlcHM6IHN0ZXBzLm1hcChcbiAgICAgIChzdGVwKSA9PlxuICAgICAgICBgJHtzdGVwLmxlZnR9ICR7c3RlcC5vcGVyYXRpb24uc3ltYm9sfSAke3N0ZXAucmlnaHR9ID0gJHtzdGVwLnJlc3VsdH1gXG4gICAgKSxcbiAgfVxufVxuIiwiaW1wb3J0IG9wcyBmcm9tICcuLi9vcGVyYXRpb25zJ1xuaW1wb3J0IHsgU29sdXRpb25FdmFsdWF0b3IgfSBmcm9tICcuL1NvbHV0aW9uRXZhbHVhdG9yJ1xuXG5jb25zdCBpdGVyYXRlU29sdXRpb25zID0gKG51bWJlcnMsIG9wZXJhdGlvbnMsIGV2YWx1YXRvcikgPT4ge1xuICBjb25zdCB1c2VkID0gbmV3IEFycmF5KG51bWJlcnMubGVuZ3RoKVxuXG4gIGNvbnN0IGZpbmRTb2x1dGlvbnNSZWN1cnNpdmUgPSAoeyBzdGVwcyB9KSA9PiB7XG4gICAgY29uc3QgbGVuID0gbnVtYmVycy5sZW5ndGhcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbiAtIDE7IGkrKykge1xuICAgICAgaWYgKHVzZWRbaV0pIGNvbnRpbnVlXG4gICAgICBjb25zdCBsZWZ0ID0gbnVtYmVyc1tpXVxuICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgaWYgKHVzZWRbal0pIGNvbnRpbnVlXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gbnVtYmVyc1tqXVxuICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiBvcGVyYXRpb25zKSB7XG4gICAgICAgICAgY29uc3QgY29tYmluZVBhaXIgPSAobCwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3BlcmF0aW9uLmFwcGx5TmF0aXZlT3BlcmF0aW9uKGwsIHIpXG4gICAgICAgICAgICBudW1iZXJzLnB1c2gocmVzdWx0KVxuICAgICAgICAgICAgdXNlZFtpXSA9IHRydWVcbiAgICAgICAgICAgIHVzZWRbal0gPSB0cnVlXG5cbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSB7XG4gICAgICAgICAgICAgIGxlZnQ6IGwsXG4gICAgICAgICAgICAgIHJpZ2h0OiByLFxuICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RlcHMucHVzaChzdGVwKVxuICAgICAgICAgICAgZXZhbHVhdG9yLmV2YWx1YXRlU29sdXRpb24oc3RlcHMsIHJlc3VsdClcbiAgICAgICAgICAgIGZpbmRTb2x1dGlvbnNSZWN1cnNpdmUoe1xuICAgICAgICAgICAgICBzdGVwcyxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIG51bWJlcnMucG9wKClcbiAgICAgICAgICAgIHVzZWRbaV0gPSBmYWxzZVxuICAgICAgICAgICAgdXNlZFtqXSA9IGZhbHNlXG4gICAgICAgICAgICBzdGVwcy5wb3AoKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb21iaW5lUGFpcihsZWZ0LCByaWdodClcbiAgICAgICAgICBpZiAoIW9wZXJhdGlvbi5zeW1tZXRyaWMpIHtcbiAgICAgICAgICAgIGNvbWJpbmVQYWlyKHJpZ2h0LCBsZWZ0KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZpbmRTb2x1dGlvbnNSZWN1cnNpdmUoe1xuICAgIHN0ZXBzOiBbXSxcbiAgfSlcbiAgZXZhbHVhdG9yLnBvc3RDb3VudHMoKVxufVxuXG5leHBvcnQgY29uc3QgZmluZFNvbHV0aW9ucyA9IChkYXRhLCBwb3N0TWVzc2FnZSkgPT4ge1xuICBjb25zdCB7IHRhcmdldCwgbnVtYmVycywgb3BlcmF0aW9uczogcmF3T3BlcmF0aW9ucyB9ID0gZGF0YVxuICBjb25zdCBvcGVyYXRpb25zID0gcmF3T3BlcmF0aW9ucy5tYXAoKG9wQ29kZSkgPT4gb3BzW29wQ29kZV0pXG5cbiAgY29uc3QgZXZhbHVhdG9yID0gbmV3IFNvbHV0aW9uRXZhbHVhdG9yKHRhcmdldCwgcG9zdE1lc3NhZ2UpXG5cbiAgaXRlcmF0ZVNvbHV0aW9ucyhudW1iZXJzLCBvcGVyYXRpb25zLCBldmFsdWF0b3IpXG4gIHBvc3RNZXNzYWdlKHtcbiAgICBvcFR5cGU6ICdjb21wbGV0ZSdcbiAgfSlcbn1cbiIsImltcG9ydCB7IGZpbmRTb2x1dGlvbnMgfSBmcm9tICcuL2ZpbmQtc29sdXRpb25zLXY1J1xuXG5zZWxmLm9ubWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gIGZpbmRTb2x1dGlvbnMobWVzc2FnZS5kYXRhLCBzZWxmLnBvc3RNZXNzYWdlLmJpbmQoc2VsZikpXG59XG4iXSwic291cmNlUm9vdCI6IiJ9