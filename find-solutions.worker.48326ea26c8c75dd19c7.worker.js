(()=>{"use strict";const t={add:{opCode:"add",description:"Addition",applyNativeOperation:function(t,e){return t+e},symmetric:!0,symbol:"+"},subtract:{opCode:"subtract",description:"Subtraction",applyNativeOperation:function(t,e){return t-e},symmetric:!1,symbol:"-"},multiply:{opCode:"multiply",description:"Multiplication",applyNativeOperation:function(t,e){return t*e},symmetric:!0,symbol:"*"},divide:{opCode:"divide",description:"Division",applyNativeOperation:function(t,e){return t/e},symmetric:!1,symbol:"/"},exponentiation:{opCode:"exponentiation",description:"Power",applyNativeOperation:function(t,e){return Math.pow(t,e)},symmetric:!1,symbol:"^"}};function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var n=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=e,this.postMessage=n,this.distance=1/0,this.solutionsEvaluated=0,this.lastUpdate=Date.now()}var n,o;return n=t,(o=[{key:"evaluateSolution",value:function(t,e){this.solutionsEvaluated++,Date.now()-this.lastUpdate>1e3&&this.postCounts();var n,o=Math.abs(e-this.target);Number.isNaN(o)||o>this.distance||(o<this.distance&&(this.distance=o,this.postMessage({opType:"newMinDistanceFound",distance:o})),this.postMessage({opType:"addSolution",solution:(n=t,{steps:n.map((function(t){return"".concat(t.left," ").concat(t.operation.symbol," ").concat(t.right," = ").concat(t.result)}))})}))}},{key:"postCounts",value:function(){this.lastUpdate=Date.now(),this.postMessage({opType:"updateEvalCount",evalCount:this.solutionsEvaluated})}}])&&e(n.prototype,o),t}();function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var r=function(e,r){var i,a,s,u,l=e.target;i=e.numbers,a=e.operations.map((function(e){return t[e]})),s=new n(l,r),u=new Array(i.length),function t(e){for(var n=e.steps,r=i.length,l=function(e){if(u[e])return"continue";for(var l=i[e],p=function(r){if(u[r])return"continue";var p,c=i[r],f=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(a);try{var y=function(){var o=p.value,a=function(a,l){var p=o.applyNativeOperation(a,l);i.push(p),u[e]=!0,u[r]=!0;var c={left:a,right:l,result:p,operation:o};n.push(c),s.evaluateSolution(n,p),t({steps:n}),i.pop(),u[e]=!1,u[r]=!1,n.pop()};a(l,c),o.symmetric||a(c,l)};for(f.s();!(p=f.n()).done;)y()}catch(t){f.e(t)}finally{f.f()}},c=e+1;c<r;c++)p(c)},p=0;p<r-1;p++)l(p)}({steps:[]}),s.postCounts(),r({opType:"overallStatus",status:"complete"})};self.onmessage=t=>{r(t.data,self.postMessage)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9vcGVyYXRpb25zLmpzIiwid2VicGFjazovL3N0YXRpYy1zaXRlLXRlbXBsYXRlLy4vc3JjL3NvbHV0aW9ucy9Tb2x1dGlvbkV2YWx1YXRvci5qcyIsIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9zb2x1dGlvbnMvZm9ybWF0LXNvbHV0aW9uLmpzIiwid2VicGFjazovL3N0YXRpYy1zaXRlLXRlbXBsYXRlLy4vc3JjL3NvbHV0aW9ucy9maW5kLXNvbHV0aW9ucy12NS5qcyIsIndlYnBhY2s6Ly9zdGF0aWMtc2l0ZS10ZW1wbGF0ZS8uL3NyYy9zb2x1dGlvbnMvZmluZC1zb2x1dGlvbnMud29ya2VyLmpzIl0sIm5hbWVzIjpbImFkZCIsIm9wQ29kZSIsImRlc2NyaXB0aW9uIiwiYXBwbHlOYXRpdmVPcGVyYXRpb24iLCJsZWZ0IiwicmlnaHQiLCJzeW1tZXRyaWMiLCJzeW1ib2wiLCJzdWJ0cmFjdCIsIm11bHRpcGx5IiwiZGl2aWRlIiwiZXhwb25lbnRpYXRpb24iLCJTb2x1dGlvbkV2YWx1YXRvciIsInRhcmdldCIsInBvc3RNZXNzYWdlIiwidGhpcyIsImRpc3RhbmNlIiwiSW5maW5pdHkiLCJzb2x1dGlvbnNFdmFsdWF0ZWQiLCJsYXN0VXBkYXRlIiwiRGF0ZSIsIm5vdyIsInNvbHV0aW9uIiwicmVzdWx0IiwicG9zdENvdW50cyIsInN0ZXBzIiwiTWF0aCIsImFicyIsIk51bWJlciIsImlzTmFOIiwib3BUeXBlIiwibWFwIiwic3RlcCIsIm9wZXJhdGlvbiIsImV2YWxDb3VudCIsImZpbmRTb2x1dGlvbnMiLCJkYXRhIiwibnVtYmVycyIsIm9wZXJhdGlvbnMiLCJldmFsdWF0b3IiLCJ1c2VkIiwib3BzIiwiQXJyYXkiLCJsZW5ndGgiLCJmaW5kU29sdXRpb25zUmVjdXJzaXZlIiwibGVuIiwiaSIsImoiLCJjb21iaW5lUGFpciIsImwiLCJyIiwicHVzaCIsImV2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Q2pEYixFQUFRYyxLQUFLNUIsR0FDYmlCLEVBQUtNLElBQUssRUFDVk4sRUFBS08sSUFBSyxFQUVWLElBQU1mLEVBQU8sQ0FDWDVCLEtBQU02QyxFQUNONUMsTUFBTzZDLEVBQ1AzQixTQUNBVSxhQUdGUixFQUFNMEIsS0FBS25CLEdBQ1hPLEVBQVVhLGlCQUFpQjNCLEVBQU9GLEdBQ2xDcUIsRUFBdUIsQ0FDckJuQixVQUdGWSxFQUFRZ0IsTUFDUmIsRUFBS00sSUFBSyxFQUNWTixFQUFLTyxJQUFLLEVBQ1Z0QixFQUFNNEIsT0FFUkwsRUFBWTVDLEVBQU1DLEdBQ2I0QixFQUFVM0IsV0FDYjBDLEVBQVkzQyxFQUFPRCxJQTNCdkIsMkJBQW9DLElBUkksZ0NBS2pDMkMsRUFBSUQsRUFBSSxFQUFHQyxFQUFJRixFQUFLRSxJQUFLLEVBQXpCQSxJQUhGRCxFQUFJLEVBQUdBLEVBQUlELEVBQU0sRUFBR0MsSUFBSyxFQUF6QkEsR0F3Q1hGLENBQXVCLENBQ3JCbkIsTUFBTyxLQUVUYyxFQUFVZixhQVVWVixFQUFZLENBQ1ZnQixPQUFRLGdCQUNSd0IsT0FBUSxjQzdEWkMsS0FBS0MsVUFBYUMsSUFDaEJ0QixFQUFjc0IsRUFBUXJCLEtBQU1tQixLQUFLekMsZSIsImZpbGUiOiJmaW5kLXNvbHV0aW9ucy53b3JrZXIuZDk4OWZhNmMzOGQ4OGJkMWEwMzIud29ya2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICBhZGQ6IHtcbiAgICBvcENvZGU6ICdhZGQnLFxuICAgIGRlc2NyaXB0aW9uOiAnQWRkaXRpb24nLFxuICAgIGFwcGx5TmF0aXZlT3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgKyByaWdodCxcbiAgICBzeW1tZXRyaWM6IHRydWUsXG4gICAgc3ltYm9sOiAnKycsXG4gIH0sXG4gIHN1YnRyYWN0OiB7XG4gICAgb3BDb2RlOiAnc3VidHJhY3QnLFxuICAgIGRlc2NyaXB0aW9uOiAnU3VidHJhY3Rpb24nLFxuICAgIGFwcGx5TmF0aXZlT3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgLSByaWdodCxcbiAgICBzeW1tZXRyaWM6IGZhbHNlLFxuICAgIHN5bWJvbDogJy0nLFxuICB9LFxuICBtdWx0aXBseToge1xuICAgIG9wQ29kZTogJ211bHRpcGx5JyxcbiAgICBkZXNjcmlwdGlvbjogJ011bHRpcGxpY2F0aW9uJyxcbiAgICBhcHBseU5hdGl2ZU9wZXJhdGlvbjogKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0ICogcmlnaHQsXG4gICAgc3ltbWV0cmljOiB0cnVlLFxuICAgIHN5bWJvbDogJyonLFxuICB9LFxuICBkaXZpZGU6IHtcbiAgICBvcENvZGU6ICdkaXZpZGUnLFxuICAgIGRlc2NyaXB0aW9uOiAnRGl2aXNpb24nLFxuICAgIGFwcGx5TmF0aXZlT3BlcmF0aW9uOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgLyByaWdodCxcbiAgICBzeW1tZXRyaWM6IGZhbHNlLFxuICAgIHN5bWJvbDogJy8nLFxuICB9LFxuICBleHBvbmVudGlhdGlvbjoge1xuICAgIG9wQ29kZTogJ2V4cG9uZW50aWF0aW9uJyxcbiAgICBkZXNjcmlwdGlvbjogJ1Bvd2VyJyxcbiAgICBhcHBseU5hdGl2ZU9wZXJhdGlvbjogKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0ICoqIHJpZ2h0LFxuICAgIHN5bW1ldHJpYzogZmFsc2UsXG4gICAgc3ltYm9sOiAnXicsXG4gIH0sXG59XG4iLCJpbXBvcnQgeyBmb3JtYXRTb2x1dGlvbiB9IGZyb20gXCIuL2Zvcm1hdC1zb2x1dGlvblwiXG5cbmV4cG9ydCBjbGFzcyBTb2x1dGlvbkV2YWx1YXRvciB7XG4gIGNvbnN0cnVjdG9yKHRhcmdldCwgcG9zdE1lc3NhZ2UpIHtcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldFxuICAgIHRoaXMucG9zdE1lc3NhZ2UgPSBwb3N0TWVzc2FnZVxuICAgIHRoaXMuZGlzdGFuY2UgPSBJbmZpbml0eVxuICAgIHRoaXMuc29sdXRpb25zRXZhbHVhdGVkID0gMFxuICAgIHRoaXMubGFzdFVwZGF0ZSA9IERhdGUubm93KClcbiAgfVxuXG4gIGV2YWx1YXRlU29sdXRpb24oc29sdXRpb24sIHJlc3VsdCkge1xuICAgIHRoaXMuc29sdXRpb25zRXZhbHVhdGVkKytcbiAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMubGFzdFVwZGF0ZSA+IDEwMDApIHtcbiAgICAgIHRoaXMucG9zdENvdW50cygpXG4gICAgfVxuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMocmVzdWx0IC0gdGhpcy50YXJnZXQpXG4gICAgaWYgKE51bWJlci5pc05hTihkaXN0YW5jZSkgfHwgZGlzdGFuY2UgPiB0aGlzLmRpc3RhbmNlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5kaXN0YW5jZSkge1xuICAgICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlXG4gICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgb3BUeXBlOiAnbmV3TWluRGlzdGFuY2VGb3VuZCcsXG4gICAgICAgIGRpc3RhbmNlLFxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5wb3N0TWVzc2FnZSh7XG4gICAgICBvcFR5cGU6ICdhZGRTb2x1dGlvbicsXG4gICAgICBzb2x1dGlvbjogZm9ybWF0U29sdXRpb24oc29sdXRpb24pLFxuICAgIH0pXG4gIH1cblxuICBwb3N0Q291bnRzKCkge1xuICAgIHRoaXMubGFzdFVwZGF0ZSA9IERhdGUubm93KClcbiAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgIG9wVHlwZTogJ3VwZGF0ZUV2YWxDb3VudCcsXG4gICAgICBldmFsQ291bnQ6IHRoaXMuc29sdXRpb25zRXZhbHVhdGVkLFxuICAgIH0pXG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBmb3JtYXRTb2x1dGlvbiA9IChzdGVwcykgPT4ge1xuICByZXR1cm4ge1xuICAgIHN0ZXBzOiBzdGVwcy5tYXAoXG4gICAgICAoc3RlcCkgPT5cbiAgICAgICAgYCR7c3RlcC5sZWZ0fSAke3N0ZXAub3BlcmF0aW9uLnN5bWJvbH0gJHtzdGVwLnJpZ2h0fSA9ICR7c3RlcC5yZXN1bHR9YFxuICAgICksXG4gIH1cbn1cbiIsImltcG9ydCBvcHMgZnJvbSAnLi4vb3BlcmF0aW9ucydcbmltcG9ydCB7IFNvbHV0aW9uRXZhbHVhdG9yIH0gZnJvbSAnLi9Tb2x1dGlvbkV2YWx1YXRvcidcblxuY29uc3QgaXRlcmF0ZVNvbHV0aW9ucyA9IChudW1iZXJzLCBvcGVyYXRpb25zLCBldmFsdWF0b3IpID0+IHtcbiAgY29uc3QgdXNlZCA9IG5ldyBBcnJheShudW1iZXJzLmxlbmd0aClcblxuICBjb25zdCBmaW5kU29sdXRpb25zUmVjdXJzaXZlID0gKHsgc3RlcHMgfSkgPT4ge1xuICAgIGNvbnN0IGxlbiA9IG51bWJlcnMubGVuZ3RoXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4gLSAxOyBpKyspIHtcbiAgICAgIGlmICh1c2VkW2ldKSBjb250aW51ZVxuICAgICAgY29uc3QgbGVmdCA9IG51bWJlcnNbaV1cbiAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGlmICh1c2VkW2pdKSBjb250aW51ZVxuICAgICAgICBjb25zdCByaWdodCA9IG51bWJlcnNbal1cbiAgICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2Ygb3BlcmF0aW9ucykge1xuICAgICAgICAgIGNvbnN0IGNvbWJpbmVQYWlyID0gKGwsIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG9wZXJhdGlvbi5hcHBseU5hdGl2ZU9wZXJhdGlvbihsLCByKVxuICAgICAgICAgICAgbnVtYmVycy5wdXNoKHJlc3VsdClcbiAgICAgICAgICAgIHVzZWRbaV0gPSB0cnVlXG4gICAgICAgICAgICB1c2VkW2pdID0gdHJ1ZVxuXG4gICAgICAgICAgICBjb25zdCBzdGVwID0ge1xuICAgICAgICAgICAgICBsZWZ0OiBsLFxuICAgICAgICAgICAgICByaWdodDogcixcbiAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0ZXBzLnB1c2goc3RlcClcbiAgICAgICAgICAgIGV2YWx1YXRvci5ldmFsdWF0ZVNvbHV0aW9uKHN0ZXBzLCByZXN1bHQpXG4gICAgICAgICAgICBmaW5kU29sdXRpb25zUmVjdXJzaXZlKHtcbiAgICAgICAgICAgICAgc3RlcHMsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBudW1iZXJzLnBvcCgpXG4gICAgICAgICAgICB1c2VkW2ldID0gZmFsc2VcbiAgICAgICAgICAgIHVzZWRbal0gPSBmYWxzZVxuICAgICAgICAgICAgc3RlcHMucG9wKClcbiAgICAgICAgICB9XG4gICAgICAgICAgY29tYmluZVBhaXIobGVmdCwgcmlnaHQpXG4gICAgICAgICAgaWYgKCFvcGVyYXRpb24uc3ltbWV0cmljKSB7XG4gICAgICAgICAgICBjb21iaW5lUGFpcihyaWdodCwgbGVmdClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaW5kU29sdXRpb25zUmVjdXJzaXZlKHtcbiAgICBzdGVwczogW10sXG4gIH0pXG4gIGV2YWx1YXRvci5wb3N0Q291bnRzKClcbn1cblxuZXhwb3J0IGNvbnN0IGZpbmRTb2x1dGlvbnMgPSAoZGF0YSwgcG9zdE1lc3NhZ2UpID0+IHtcbiAgY29uc3QgeyB0YXJnZXQsIG51bWJlcnMsIG9wZXJhdGlvbnM6IHJhd09wZXJhdGlvbnMgfSA9IGRhdGFcbiAgY29uc3Qgb3BlcmF0aW9ucyA9IHJhd09wZXJhdGlvbnMubWFwKChvcENvZGUpID0+IG9wc1tvcENvZGVdKVxuXG4gIGNvbnN0IGV2YWx1YXRvciA9IG5ldyBTb2x1dGlvbkV2YWx1YXRvcih0YXJnZXQsIHBvc3RNZXNzYWdlKVxuXG4gIGl0ZXJhdGVTb2x1dGlvbnMobnVtYmVycywgb3BlcmF0aW9ucywgZXZhbHVhdG9yKVxuICBwb3N0TWVzc2FnZSh7XG4gICAgb3BUeXBlOiAnb3ZlcmFsbFN0YXR1cycsXG4gICAgc3RhdHVzOiAnY29tcGxldGUnLFxuICB9KVxufVxuIiwiaW1wb3J0IHsgZmluZFNvbHV0aW9ucyB9IGZyb20gJy4vZmluZC1zb2x1dGlvbnMtdjUnXG5cbnNlbGYub25tZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgZmluZFNvbHV0aW9ucyhtZXNzYWdlLmRhdGEsIHNlbGYucG9zdE1lc3NhZ2UpXG59XG4iXSwic291cmNlUm9vdCI6IiJ9